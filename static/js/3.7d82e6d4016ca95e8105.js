webpackJsonp([3],{"/tYK":function(t,e){},HJLD:function(t,e){},KR8f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var i=a("VU/8")({},s,!1,function(t){a("jdNR")},"data-v-567c30ff",null).exports,n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topic-navbar"},t._l(t.navbarTab,function(e){return a("span",{key:e.name,staticClass:"current-tab",class:{"activebar-tab":e.isActive},on:{click:function(a){return t.changeBar(e)}}},[t._v("\n    "+t._s(e.name)+"\n  ")])}),0)},staticRenderFns:[]};var r=a("VU/8")({data:function(){return{navbarTab:[{name:"全部",isActive:!0,tab:""},{name:"精华",isActive:!1,tab:"good"},{name:"分享",isActive:!1,tab:"share"},{name:"问答",isActive:!1,tab:"ask"},{name:"招聘",isActive:!1,tab:"job"},{name:"客户端测试",isActive:!1,tab:"test"}]}},methods:{changeBar:function(t){t.isActive||(this.navbarTab.map(function(t){t.isActive=!1}),t.isActive=!0,this.$emit("clickTab",t.tab))}}},n,!1,function(t){a("wAaN")},"data-v-f95c6d46",null).exports,o={props:{totalPage:{type:Number,default:1,required:!0},showItems:{type:Number,default:5},showPrev:{type:Boolean,default:!0},showNext:{type:Boolean,default:!0},showJump:{type:Boolean,default:!0},initPage:{type:Number,default:1},mode:{type:String,default:"event"},routeName:{type:String},textPrevious:{type:String,default:"上一页"},textNext:{type:String,default:"下一页"},textPage:{type:String,default:"页"},textTotal:{type:String,default:"共"},textSet:{type:String,default:"确定"},textJump:{type:String,default:"页 ，跳至"}},data:function(){return{currentPage:0,jumpPage:0}},created:function(){if(this.currentPage=this.initPage,"params"==this.mode&&!this.routeName)throw"need a route name when choose params mode in pager component"},computed:{pages:function(){var t=this,e=function(e,a){(e<=1||e>a||e>=t.totalPage)&&(e=2),(a>=t.totalPage||a<e||a<=1)&&(a=t.totalPage-1);for(var s=[],i=e;i<=a;i++)s.push(i);return s},a=this.showItems;if(this.totalPage<a+2)return e(2,this.totalPage);if(this.currentPage<=Math.ceil(a/2))return e(2,a);if(this.currentPage>=this.totalPage-Math.floor(a/2))return e(this.totalPage+1-a,this.totalPage-1);var s=Math.ceil(a/2)-1,i=this.currentPage+s;return a%2==0&&i++,e(this.currentPage-s,i)}},methods:{go:function(t){if(t<1&&(t=1),t>this.totalPage&&(t=this.totalPage),t!==this.currentPage)if(this.currentPage=parseInt(t,10),"query"==this.mode){var e=this.$route.query;e.page=this.currentPage,this.$router.go({query:e})}else if("params"==this.mode){var a=this.$route.params;a.page=this.currentPage,this.$router.go({name:this.routeName,params:a})}else this.$emit("go-page",{page:this.currentPage})}},watch:{currentPage:function(t){this.jumpPage=t},initPage:function(t){this.currentPage!==t&&(this.currentPage=t)}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.totalPage>0?a("div",{staticClass:"pager-wrapper"},[a("div",{staticClass:"pager-pages"},[a("a",{directives:[{name:"show",rawName:"v-show",value:t.currentPage>1&&t.showPrev,expression:"currentPage > 1 && showPrev"}],on:{click:function(e){return t.go(t.currentPage-1)}}},[t._v(t._s(t.textPrevious))]),t._v(" "),a("a",{class:{active:1==t.currentPage},on:{click:function(e){return t.go(1)}}},[t._v("1")]),t._v(" "),a("strong",{directives:[{name:"show",rawName:"v-show",value:t.pages[0]>2,expression:"pages[0] > 2"}]},[t._v("...")]),t._v(" "),t._l(t.pages,function(e){return a("a",{class:{active:t.currentPage==e},on:{click:function(a){return t.go(e)}}},[t._v(t._s(e))])}),t._v(" "),a("strong",{directives:[{name:"show",rawName:"v-show",value:t.pages[t.pages.length-1]<t.totalPage-1,expression:"pages[pages.length-1] < totalPage - 1"}]},[t._v("...")]),t._v(" "),t.totalPage>1?a("a",{class:{active:t.currentPage==t.totalPage},on:{click:function(e){return t.go(t.totalPage)}}},[t._v(t._s(t.totalPage))]):t._e(),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:t.currentPage<t.totalPage&&t.showNext,expression:"currentPage < totalPage && showNext"}],on:{click:function(e){return t.go(t.currentPage+1)}}},[t._v(t._s(t.textNext))])],2),t._v(" "),t.showJump?a("div",{directives:[{name:"show",rawName:"v-show",value:t.totalPage>1,expression:"totalPage > 1"}],staticClass:"pager-jump"},[a("span",[t._v(t._s(t.textTotal)),a("em",{staticClass:"jump-total"},[t._v(t._s(t.totalPage))]),t._v(t._s(t.textJump))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.jumpPage,expression:"jumpPage"}],staticClass:"jump-input",attrs:{type:"number",min:"1",max:t.totalPage},domProps:{value:t.jumpPage},on:{input:function(e){e.target.composing||(t.jumpPage=e.target.value)}}}),t._v(" "),a("span",[t._v(t._s(t.textPage))]),t._v(" "),a("a",{on:{click:function(e){return t.go(t.jumpPage)}}},[t._v(t._s(t.textSet))])]):t._e()]):t._e()},staticRenderFns:[]};var u={name:"TopicPage",components:{pager:a("VU/8")(o,c,!1,function(t){a("vNHT")},null,null).exports},props:{totalPage:Number,page:Number},data:function(){return{showJump:!1}},methods:{goPage:function(t){console.log(t),this.$emit("clickPage",t)}}},g={render:function(){var t=this.$createElement;return(this._self._c||t)("pager",{attrs:{"total-page":this.totalPage,"init-page":this.page,"show-jump":this.showJump},on:{"go-page":this.goPage}})},staticRenderFns:[]},l=a("VU/8")(u,g,!1,null,null,null).exports,p=a("0xDb"),v={name:"TopList",props:{list:Array},data:function(){return{st:"12",tag:{share:"分享",ask:"问答",good:"精华",job:"招聘",top:"置顶"}}},methods:{dispalyreplytime:function(t){return Object(p.b)(t)},activeTag:function(t){return!(!t.top&&!t.good)},displayTag:function(t){return!0===t.top?this.tag.top:!0===t.good?this.tag.good:this.tag[t.tab]}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"topic-contain"},t._l(t.list,function(e){return a("div",{key:e.id,staticClass:"topic-list"},[a("a",{staticClass:"author",attrs:{href:"#1"}},[a("img",{attrs:{src:e.author.avatar_url,title:e.title}})]),t._v(" "),a("span",{staticClass:"replay-count"},[t._v(t._s(e.reply_count)+"/"+t._s(e.visit_count))]),t._v(" "),a("a",{staticClass:"last-time",attrs:{href:"#2"}},[t._v(t._s(t.dispalyreplytime(e.last_reply_at)))]),t._v(" "),a("div",[e.tab?a("span",{staticClass:"tag",class:{"active-tag":t.activeTag(e)}},[t._v(t._s(t.displayTag(e)))]):t._e(),t._v(" "),a("router-link",{staticClass:"toptic-title",attrs:{to:{path:"/datails",query:{id:e.id}}}},[t._v(t._s(e.title))])],1)])}),0)},staticRenderFns:[]};var d=a("VU/8")(v,h,!1,function(t){a("/tYK")},"data-v-7402d1d2",null).exports,m={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"loading"})},staticRenderFns:[]};var f=a("VU/8")({name:"Loading"},m,!1,function(t){a("LpMo")},"data-v-2e72636c",null).exports,P=a("gyMJ"),_={components:{Topic:i,TopicNavbar:r,TopList:d,TopicPage:l,Loading:f},data:function(){return{list:[],page:1,totalPage:10,limit:20,tabTag:"",isLoading:!0}},computed:{searchText:function(){return this.$store.state.searchText}},created:function(){this.getListData()},watch:{searchText:function(t){this.search()}},methods:{search:function(){},changeTabData:function(t){this.isLoading=!0,this.tabTag=t,this.getListData()},getListData:function(){var t=this;this.$store.dispatch("goTop"),Object(P.c)({page:this.page,tab:this.tabTag,limit:this.limit}).then(function(e){t.list=e.data.data,t.isLoading=!1})},getPageData:function(t){this.isLoading=!0,console.log("页数为："+t.page),this.page=t.page,this.getListData()}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("TopicNavbar",{on:{clickTab:t.changeTabData}}),t._v(" "),a("div",[a("div",{staticClass:"inner"},[a("transition",{attrs:{name:"fade"}},[t.isLoading?a("Loading",{staticClass:"loading"}):t._e()],1),t._v(" "),a("TopList",{attrs:{list:t.list}})],1),t._v(" "),a("TopicPage",{staticClass:"page",attrs:{"total-page":t.totalPage,page:t.page},on:{clickPage:t.getPageData}})],1)],1)},staticRenderFns:[]};var w=a("VU/8")(_,b,!1,function(t){a("HJLD")},"data-v-77201ca2",null);e.default=w.exports},LpMo:function(t,e){},jdNR:function(t,e){},vNHT:function(t,e){},wAaN:function(t,e){}});
//# sourceMappingURL=3.7d82e6d4016ca95e8105.js.map